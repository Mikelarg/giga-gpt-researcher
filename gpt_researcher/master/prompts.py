import warnings
from datetime import date, datetime, timezone

from gpt_researcher.utils.enum import ReportSource, ReportType, Tone


def generate_search_queries_prompt(
    question: str,
    parent_query: str,
    report_type: str,
    max_iterations: int = 3,
):
    """Generates the search queries prompt for the given question.
    Args:
        question (str): The question to generate the search queries prompt for
        parent_query (str): The main question (only relevant for detailed reports)
        report_type (str): The report type
        max_iterations (int): The maximum number of search queries to generate

    Returns: str: The search queries prompt for the given question
    """

    if (
        report_type == ReportType.DetailedReport.value
        or report_type == ReportType.SubtopicReport.value
    ):
        return (
            f"–°–æ—Å—Ç–∞–≤—å {max_iterations} –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –Ø–Ω–¥–µ–∫—Å –¥–ª—è –æ–Ω–ª–∞–π–Ω-–ø–æ–∏—Å–∫–∞, —á—Ç–æ–±—ã —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç–∏–≤–Ω–æ–µ –º–Ω–µ–Ω–∏–µ –ø–æ —Å–ª–µ–¥—É—é—â–µ–π —Ç–µ–º–µ. "
            f'–¢—ã –¥–æ–ª–∂–µ–Ω –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ –ø–æ–¥—Ç–µ–º–µ, –Ω–æ —É—á–∏—Ç—ã–≤–∞–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–º—ã. –û—Å–Ω–æ–≤–Ω–∞—è —Ç–µ–º–∞: "{parent_query}" –ü–æ–¥—Ç–µ–º–∞: "{question}"'
            f'–¢—ã –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å —Å–ø–∏—Å–∫–æ–º —Å—Ç—Ä–æ–∫ –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ: ["–∑–∞–ø—Ä–æ—Å 1", "–∑–∞–ø—Ä–æ—Å 2", "–∑–∞–ø—Ä–æ—Å 3"].\n'
            f"–û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¢–û–õ–¨–ö–û —Å–ø–∏—Å–æ–∫."
        )
    else:
        return (
            f'–°–æ—Å—Ç–∞–≤—å {max_iterations} –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –Ø–Ω–¥–µ–∫—Å –¥–ª—è –æ–Ω–ª–∞–π–Ω-–ø–æ–∏—Å–∫–∞, —á—Ç–æ–±—ã —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç–∏–≤–Ω–æ–µ –º–Ω–µ–Ω–∏–µ –ø–æ —Å–ª–µ–¥—É—é—â–µ–π —Ç–µ–º–µ: "{question}"'
            f'–¢—ã –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å —Å–ø–∏—Å–∫–æ–º —Å—Ç—Ä–æ–∫ –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ: ["–∑–∞–ø—Ä–æ—Å 1", "–∑–∞–ø—Ä–æ—Å 2", "–∑–∞–ø—Ä–æ—Å 3"].\n'
            f"–û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¢–û–õ–¨–ö–û —Å–ø–∏—Å–æ–∫."
        )


def generate_report_prompt(
    question: str,
    context,
    report_source: str,
    report_format="apa",
    total_words=1000,
    tone=None,
):
    """Generates the report prompt for the given question and research summary.
    Args: question (str): The question to generate the report prompt for
            research_summary (str): The research summary to generate the report prompt for
    Returns: str: The report prompt for the given question and research summary
    """

    reference_prompt = ""
    if report_source == ReportSource.Web.value:
        reference_prompt = f"""
–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —É–∫–∞–∂–∏ –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –∏ –∏—Ö URL-–∞–¥—Ä–µ—Å–∞ –≤ –∫–æ–Ω—Ü–µ –æ—Ç—á—ë—Ç–∞ –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –Ω–µ—Ç –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ ‚Äî —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ —Å—Å—ã–ª–∫–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ.
–ö–∞–∂–¥—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å—Å—ã–ª–∫–æ–π. –ü—Ä–∏–º–µ—Ä: [url website](url)
–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –≤–∫–ª—é—á–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ URL-–∞–¥—Ä–µ—Å–∞ –≤–µ–∑–¥–µ, –≥–¥–µ –æ–Ω–∏ —É–ø–æ–º—è–Ω—É—Ç—ã –≤ –æ—Ç—á—ë—Ç–µ:

–ü—Ä–∏–º–µ—Ä: –ê–≤—Ç–æ—Ä, –ê. –ê. (–ì–æ–¥, –ú–µ—Å—è—Ü –î–∞—Ç–∞). –ù–∞–∑–≤–∞–Ω–∏–µ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã. –ù–∞–∑–≤–∞–Ω–∏–µ —Å–∞–π—Ç–∞. [url website](url)
"""
    else:
        reference_prompt = f"""
–¢–´ –î–û–õ–ñ–ï–ù —É–∫–∞–∑–∞—Ç—å –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ –∏–º–µ–Ω–∞ –∏—Å—Ö–æ–¥–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ –∫–æ–Ω—Ü–µ –æ—Ç—á—ë—Ç–∞ –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Å—Å—ã–ª–æ–∫ –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –Ω–µ—Ç –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ ‚Äî —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ —Å—Å—ã–ª–∫–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ."
"""

    tone_prompt = f"–ù–∞–ø–∏—à–∏ –æ—Ç—á—ë—Ç –≤ {tone.value} —Ç–æ–Ω–µ." if tone else ""

    return f"""
–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è: 
========
{context}
========
---
–ò—Å–ø–æ–ª—å–∑—É—è –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—É—é –≤—ã—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –æ—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å: "{question}" –≤ –ø–æ–¥—Ä–æ–±–Ω–æ–º –æ—Ç—á–µ—Ç–µ.
–û—Ç—á–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–µ–Ω –Ω–∞ –æ—Ç–≤–µ—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å, –±—ã—Ç—å —Ö–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º, –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º, –≥–ª—É–±–æ–∫–∏–º –∏ –≤—Å–µ—Å—Ç–æ—Ä–æ–Ω–Ω–∏–º, —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Ñ–∞–∫—Ç–æ–≤ –∏ —á–∏—Å–µ–ª, –µ—Å–ª–∏ –æ–Ω–∏ –¥–æ—Å—Ç—É–ø–Ω—ã, –∏ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º {total_words} —Å–ª–æ–≤.
–¢—ã –¥–æ–ª–∂–µ–Ω —Å—Ç—Ä–µ–º–∏—Ç—å—Å—è –Ω–∞–ø–∏—Å–∞—Ç—å –æ—Ç—á–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –æ–±—ä–µ–º–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É—è –≤—Å—é –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—É—é –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–ª–µ–¥—É–π –≤—Å–µ–º —Å–ª–µ–¥—É—é—â–∏–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º –ø—Ä–∏ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ –æ—Ç—á–µ—Ç–∞:
- –¢—ã –î–û–õ–ñ–ï–ù —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω–æ–µ –≤—ã–≤–æ–¥—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏. –ù–ï –î–ï–õ–ê–ô –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –∏ –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ –≤—ã–≤–æ–¥—ã.
- –¢—ã –î–û–õ–ñ–ï–ù –Ω–∞–ø–∏—Å–∞—Ç—å –æ—Ç—á–µ—Ç —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ markdown –∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ {report_format}.
- –ò—Å–ø–æ–ª—å–∑—É–π –±–µ—Å–ø—Ä–∏—Å—Ç—Ä–∞—Å—Ç–Ω—ã–π –∏ –∂—É—Ä–Ω–∞–ª–∏—Å—Ç—Å–∫–∏–π —Ç–æ–Ω.
- –ò—Å–ø–æ–ª—å–∑—É–π –≤–Ω—É—Ç—Ä–∏—Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ {report_format} –∏ —Å–æ–∑–¥–∞–≤–∞–π –∏—Ö —Å –ø–æ–º–æ—â—å—é –≥–∏–ø–µ—Ä—Å—Å—ã–ª–æ–∫ –≤ –∫–æ–Ω—Ü–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏–ª–∏ –∞–±–∑–∞—Ü–∞ —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º: ([–≤–Ω—É—Ç—Ä–∏—Ç–µ–∫—Å—Ç–æ–≤–∞—è —Å—Å—ã–ª–∫–∞](url)).
- {reference_prompt}
- {tone_prompt}
- –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–æ–±–∞–≤—å —Å–ø–∏—Å–æ–∫ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã –≤ –∫–æ–Ω—Ü–µ –æ—Ç—á–µ—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ {report_format} –∏ –ø–æ–ª–Ω—ã–µ —Å—Å—ã–ª–∫–∏ URL –±–µ–∑ –≥–∏–ø–µ—Ä—Å—Å—ã–ª–æ–∫.
–°—Ç–∞—Ä–∞–π—Å—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ä–∞–±–æ—Ç—É –Ω–∞–∏–ª—É—á—à–∏–º –æ–±—Ä–∞–∑–æ–º, —ç—Ç–æ –æ—á–µ–Ω—å –≤–∞–∂–Ω–æ –¥–ª—è –º–µ–Ω—è.
–¢–µ–∫—É—â–∞—è –¥–∞—Ç–∞ {date.today()}.
"""


def generate_resource_report_prompt(
    question, context, report_source: str, report_format="apa", tone=None, total_words=1000
):
    """Generates the resource report prompt for the given question and research summary.

    Args:
        question (str): The question to generate the resource report prompt for.
        context (str): The research summary to generate the resource report prompt for.

    Returns:
        str: The resource report prompt for the given question and research summary.
    """

    reference_prompt = ""
    if report_source == ReportSource.Web.value:
        reference_prompt = f"""
            –¢–´ –î–û–õ–ñ–ï–ù –≤–∫–ª—é—á–∏—Ç—å –≤—Å–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ URL-–∞–¥—Ä–µ—Å–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.
            –ö–∞–∂–¥—ã–π URL –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≥–∏–ø–µ—Ä—Å—Å—ã–ª–∫–æ–π: [url website](url)
        """
    else:
        reference_prompt = f"""
            –¢—ã –î–û–õ–ñ–ï–ù —É–∫–∞–∑–∞—Ç—å –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ –∏–º–µ–Ω–∞ –∏—Å—Ö–æ–¥–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ –∫–æ–Ω—Ü–µ –æ—Ç—á—ë—Ç–∞ –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Å—Å—ã–ª–æ–∫ –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –Ω–µ—Ç –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ ‚Äî —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ —Å—Å—ã–ª–∫–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ."
        """

    return (
        f'"""{context}"""\n\n–ù–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∏–≤–µ–¥—ë–Ω–Ω–æ–π –≤—ã—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–π—Ç–µ –æ—Ç—á—ë—Ç —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏ –ø–æ –±–∏–±–ª–∏–æ–≥—Ä–∞—Ñ–∏–∏ –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ'
        f' –≤–æ–ø—Ä–æ—Å–∞ –∏–ª–∏ —Ç–µ–º—ã: "{question}". –û—Ç—á—ë—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞,'
        " –æ–±—ä—è—Å–Ω—è—è, –∫–∞–∫ –∫–∞–∂–¥—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –º–æ–∂–µ—Ç –ø–æ–º–æ—á—å –≤ –ø–æ–∏—Å–∫–µ –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–æ–ø—Ä–æ—Å.\n"
        "–°–æ—Å—Ä–µ–¥–æ—Ç–æ—á—å—Å—è –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏, –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏ –∏ –∑–Ω–∞—á–∏–º–æ—Å—Ç–∏ –∫–∞–∂–¥–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞.\n"
        "–£–±–µ–¥–∏—Å—å, —á—Ç–æ –æ—Ç—á—ë—Ç —Ö–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω, –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–µ–Ω –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—Å—É Markdown.\n"
        "–í–∫–ª—é—á–∞–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–∫—Ç—ã, –¥–∞–Ω–Ω—ã–µ –∏ —Ü–∏—Ñ—Ä—ã.\n"
        f"–û—Ç—á—ë—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–ª–∏–Ω–æ–π –Ω–µ –º–µ–Ω–µ–µ {total_words} —Å–ª–æ–≤.\n"
        "–¢–´ –î–û–õ–ñ–ï–ù –≤–∫–ª—é—á–∏—Ç—å –≤—Å–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ URL-–∞–¥—Ä–µ—Å–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤."
        "–ö–∞–∂–¥—ã–π URL –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≥–∏–ø–µ—Ä—Å—Å—ã–ª–∫–æ–π: [url website](url)"
        f"{reference_prompt}"
    )


def generate_custom_report_prompt(
    query_prompt, context, report_source: str, report_format="apa", total_words=1000
):
    return f'"{context}"\n\n{query_prompt}'


def generate_outline_report_prompt(
    question, context, report_source: str, report_format="apa", total_words=1000
):
    """Generates the outline report prompt for the given question and research summary.
    Args: question (str): The question to generate the outline report prompt for
            research_summary (str): The research summary to generate the outline report prompt for
    Returns: str: The outline report prompt for the given question and research summary
    """

    return (
        f'"""{context}""" –ò—Å–ø–æ–ª—å–∑—É—è –ø—Ä–∏–≤–µ–¥—ë–Ω–Ω—É—é –≤—ã—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, —Å–æ–∑–¥–∞–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ—Ç—á—ë—Ç–∞ –≤ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–µ Markdown'
        f' –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ –∏–ª–∏ —Ç–µ–º—ã: "{question}". –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–ª–∂–Ω–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å —Ö–æ—Ä–æ—à–æ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–∞—Ä–∫–∞—Å'
        " –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ—Ç—á—ë—Ç–∞, –≤–∫–ª—é—á–∞—è –æ—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã, –ø–æ–¥—Ä–∞–∑–¥–µ–ª—ã –∏ –∫–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Å–≤–µ—Ç–∏—Ç—å."
        f" –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ—Ç—á—ë—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º, –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º, –≥–ª—É–±–æ–∫–∏–º –∏ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º {total_words} —Å–ª–æ–≤."
        " –ò—Å–ø–æ–ª—å–∑—É–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å Markdown –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –µ—ë —á–∏—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏."
    )


def get_report_by_type(report_type: str):
    report_type_mapping = {
        ReportType.ResearchReport.value: generate_report_prompt,
        ReportType.ResourceReport.value: generate_resource_report_prompt,
        ReportType.OutlineReport.value: generate_outline_report_prompt,
        ReportType.CustomReport.value: generate_custom_report_prompt,
        ReportType.SubtopicReport.value: generate_subtopic_report_prompt,
    }
    return report_type_mapping[report_type]


def auto_agent_instructions():
    return """
–≠—Ç–∞ –∑–∞–¥–∞—á–∞ –≤–∫–ª—é—á–∞–µ—Ç –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–Ω–æ–π —Ç–µ–º—ã, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –µ—ë —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∏–ª–∏ –Ω–∞–ª–∏—á–∏—è –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞. –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–æ–¥–∏—Ç—Å—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º —Å–µ—Ä–≤–µ—Ä–æ–º, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –µ–≥–æ —Ç–∏–ø–æ–º –∏ —Ä–æ–ª—å—é, –ø—Ä–∏ —ç—Ç–æ–º –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–µ—Ä —Ç—Ä–µ–±—É–µ—Ç –æ—Å–æ–±—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π.
–ê–≥–µ–Ω—Ç
–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –æ–±–ª–∞—Å—Ç—å—é —Ç–µ–º—ã –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –∏–º–µ–Ω–µ–º –∞–≥–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω–æ–π —Ç–µ–º—ã. –ê–≥–µ–Ω—Ç—ã –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç—Å—è –ø–æ –∏—Ö –æ–±–ª–∞—Å—Ç–∏ —ç–∫—Å–ø–µ—Ä—Ç–∏–∑—ã, –∏ –∫–∞–∂–¥—ã–π —Ç–∏–ø –∞–≥–µ–Ω—Ç–∞ —Å–≤—è–∑–∞–Ω —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º —ç–º–æ–¥–∑–∏.

–ø—Ä–∏–º–µ—Ä—ã:
–∑–∞–¥–∞—á–∞: "—Å—Ç–æ–∏—Ç –ª–∏ –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –∞–∫—Ü–∏–∏ Apple?"
–æ—Ç–≤–µ—Ç: 
{
    "server": "üí∞ –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –∞–≥–µ–Ω—Ç",
    "agent_role_prompt": "–¢—ã ‚Äî –æ–ø—ã—Ç–Ω—ã–π –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤. –¢–≤–æ—è –æ—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ ‚Äî —Å–æ—Å—Ç–∞–≤–ª—è—Ç—å –≤—Å–µ—Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ, –ø—Ä–æ–¥—É–º–∞–Ω–Ω—ã–µ, –±–µ—Å–ø—Ä–∏—Å—Ç—Ä–∞—Å—Ç–Ω—ã–µ –∏ –º–µ—Ç–æ–¥–∏—á–µ—Å–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –æ—Ç—á—ë—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ —Ç–µ–Ω–¥–µ–Ω—Ü–∏–π."
}
–∑–∞–¥–∞—á–∞: "–º–æ–∂–µ—Ç –ª–∏ –ø–µ—Ä–µ–ø—Ä–æ–¥–∞–∂–∞ –∫—Ä–æ—Å—Å–æ–≤–æ–∫ —Å—Ç–∞—Ç—å –ø—Ä–∏–±—ã–ª—å–Ω–æ–π?"
–æ—Ç–≤–µ—Ç: 
{ 
    "server":  "üìà –ê–≥–µ–Ω—Ç –±–∏–∑–Ω–µ—Å-–∞–Ω–∞–ª–∏—Ç–∏–∫–∏",
    "agent_role_prompt": "–¢—ã ‚Äî –æ–ø—ã—Ç–Ω—ã–π –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫ –±–∏–∑–Ω–µ—Å-–∞–Ω–∞–ª–∏—Ç–∏–∫–∞. –¢–≤–æ—è –æ—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å ‚Äî —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤—Å–µ—Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ, –ø—Ä–æ–Ω–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ, –±–µ—Å–ø—Ä–∏—Å—Ç—Ä–∞—Å—Ç–Ω—ã–µ –∏ —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –±–∏–∑–Ω–µ—Å-–æ—Ç—á—ë—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –±–∏–∑–Ω–µ—Å-–¥–∞–Ω–Ω—ã—Ö, —Ä—ã–Ω–æ—á–Ω—ã—Ö —Ç–µ–Ω–¥–µ–Ω—Ü–∏–π –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞."
}
–∑–∞–¥–∞—á–∞: "–∫–∞–∫–∏–µ —Å–∞–º—ã–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –º–µ—Å—Ç–∞ –≤ –¢–µ–ª—å-–ê–≤–∏–≤–µ?"
–æ—Ç–≤–µ—Ç:
{
    "server":  "üåç –¢—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∞–≥–µ–Ω—Ç",
    "agent_role_prompt": "–¢—ã ‚Äî –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫ –≥–∏–¥–∞, –æ–±—ä–µ—Ö–∞–≤—à–∏–π –≤–µ—Å—å –º–∏—Ä. –¢–≤–æ—è –æ—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ ‚Äî —Å–æ—Å—Ç–∞–≤–ª—è—Ç—å —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–µ, –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ, –±–µ—Å–ø—Ä–∏—Å—Ç—Ä–∞—Å—Ç–Ω—ã–µ –∏ —Ö–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç—á—ë—Ç—ã –ø–æ –∑–∞–¥–∞–Ω–Ω—ã–º –º–µ—Å—Ç–∞–º, –≤–∫–ª—é—á–∞—è –∏—Å—Ç–æ—Ä–∏—é, –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –∫—É–ª—å—Ç—É—Ä–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏."
}
"""


def generate_summary_prompt(query, data):
    """Generates the summary prompt for the given question and text.
    Args: question (str): The question to generate the summary prompt for
            text (str): The text to generate the summary prompt for
    Returns: str: The summary prompt for the given question and text
    """

    return (
        f'{data}\n –ò—Å–ø–æ–ª—å–∑—É—è –ø—Ä–∏–≤–µ–¥—ë–Ω–Ω—ã–π –≤—ã—à–µ —Ç–µ–∫—Å—Ç, —Å–æ—Å—Ç–∞–≤—å –µ–≥–æ –∫—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–ª–µ–¥—É—é—â–µ–π –∑–∞–¥–∞—á–∏ –∏–ª–∏ –∑–∞–ø—Ä–æ—Å–∞: "{query}".\n –ï—Å–ª–∏ '
        f"–∑–∞–ø—Ä–æ—Å –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ—Ç–≤–µ—Ç–∏—Ç—å, –∏—Å–ø–æ–ª—å–∑—É—è —Ç–µ–∫—Å—Ç, –¢–´ –î–û–õ–ñ–ï–ù –∫—Ä–∞—Ç–∫–æ –∏–∑–ª–æ–∂–∏—Ç—å —Ç–µ–∫—Å—Ç.\n –í–∫–ª—é—á–∏ –≤—Å—é —Ñ–∞–∫—Ç–∏—á–µ—Å–∫—É—é "
        f"–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, —Ç–∞–∫—É—é –∫–∞–∫ —á–∏—Å–ª–∞, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, —Ü–∏—Ç–∞—Ç—ã –∏ —Ç.–¥., –µ—Å–ª–∏ –æ–Ω–∏ –¥–æ—Å—Ç—É–ø–Ω—ã. "
    )


################################################################################################

# DETAILED REPORT PROMPTS


def generate_subtopics_prompt() -> str:
    return """
–û—Å–Ω–æ–≤–Ω–∞—è —Ç–µ–º–∞:

{task}

–∏ –¥–∞–Ω–Ω—ã–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è:

{data}

- –°–æ—Å—Ç–∞–≤—å —Å–ø–∏—Å–æ–∫ –ø–æ–¥—Ç–µ–º, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å —Å–æ–±–æ–π –∑–∞–≥–æ–ª–æ–≤–∫–∏ —Ä–∞–∑–¥–µ–ª–æ–≤ –æ—Ç—á—ë—Ç–∞, —Å–æ–∑–¥–∞–≤–∞–µ–º–æ–≥–æ –ø–æ –∑–∞–¥–∞—á–µ.
- –≠—Ç–æ –≤–æ–∑–º–æ–∂–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–æ–¥—Ç–µ–º: {subtopics}.
- –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–∏–∫–∞–∫–∏—Ö –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –ø–æ–¥—Ç–µ–º.
- –û–≥—Ä–∞–Ω–∏—á—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥—Ç–µ–º –¥–æ {max_subtopics}.
- –í –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –æ—Ç—Å–æ—Ä—Ç–∏—Ä—É–π –ø–æ–¥—Ç–µ–º—ã –ø–æ –∑–∞–¥–∞—á–∞–º –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º –∏ –æ—Å–º—ã—Å–ª–µ–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ–º –≤ –ø–æ–¥—Ä–æ–±–Ω–æ–º –æ—Ç—á—ë—Ç–µ.

"–í–ê–ñ–ù–û!":
- –ö–∞–∂–¥–∞—è –ø–æ–¥—Ç–µ–º–∞ –î–û–õ–ñ–ù–ê –±—ã—Ç—å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–º–µ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–º –¥–∞–Ω–Ω—ã–º –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è!

{format_instructions}
"""


def generate_subtopic_report_prompt(
    current_subtopic,
    existing_headers: list,
    relevant_written_contents: list,
    main_topic: str,
    context,
    report_format: str = "apa",
    max_subsections=5,
    total_words=800,
    tone: Tone = Tone.Objective,
) -> str:
    return f"""–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è: 
=========
{context}
=========

"–û—Å–Ω–æ–≤–Ω–∞—è —Ç–µ–º–∞ –∏ –ø–æ–¥—Ç–µ–º–∞":
–ò—Å–ø–æ–ª—å–∑—É—è —Å–∞–º—É—é –∞–∫—Ç—É–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, —Å–æ—Å—Ç–∞–≤—å –ø–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç—á—ë—Ç –ø–æ –ø–æ–¥—Ç–µ–º–µ: {current_subtopic} –≤ —Ä–∞–º–∫–∞—Ö –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–º—ã: {main_topic}.
–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–æ–≤ –¥–æ {max_subsections}.

"–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ":
- –û—Ç—á—ë—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –æ—Ç–≤–µ—Ç –Ω–∞ –ø–æ–¥—Ç–µ–º—É
- –û—Ç—á–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ö–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º, –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º –∏ –≤–∫–ª—é—á–∞—Ç—å —Ñ–∞–∫—Ç—ã –∏ —Ü–∏—Ñ—Ä—ã, –µ—Å–ª–∏ –æ–Ω–∏ –¥–æ—Å—Ç—É–ø–Ω—ã.
- –ò—Å–ø–æ–ª—å–∑—É–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å Markdown –∏ —Å–ª–µ–¥—É–π —Ñ–æ—Ä–º–∞—Ç—É {report_format.upper()}.

"–í–ê–ñ–ù–û: –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è –∏ —Ä–∞–∑–¥–µ–ª–æ–≤":
- –≠—Ç–∞ —á–∞—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π —è–≤–ª—è–µ—Ç—Å—è –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û–ô –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –æ—Ç—á—ë—Ç–∞–º–∏.
- –í–ù–ò–ú–ê–¢–ï–õ–¨–ù–û –∏–∑—É—á–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏ –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã, –ø—Ä–∏–≤–µ–¥—ë–Ω–Ω—ã–µ –Ω–∏–∂–µ, –ø—Ä–µ–∂–¥–µ —á–µ–º –ø–∏—Å–∞—Ç—å –Ω–æ–≤—ã–µ –ø–æ–¥—Ä–∞–∑–¥–µ–ª—ã.
- !!!–ò–ó–ë–ï–ì–ê–ô —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä–æ–µ —É–∂–µ –±—ã–ª–æ –æ—Å–≤–µ—â–µ–Ω–æ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–∞—Ö.
- !!!–ù–ï –ò–°–ü–û–õ–¨–ó–£–ô —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –Ω–æ–≤—ã—Ö –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–æ–≤.
- !!!–ù–ï –ü–û–í–¢–û–†–Ø–ô –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, —É–∂–µ –æ—Å–≤–µ—â—ë–Ω–Ω—É—é –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–∞—Ö, –∏–ª–∏ —Å—Ö–æ–∂–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è.
- –ï—Å–ª–∏ —Ç—ã –¥–æ–±–∞–≤–ª—è–µ—à—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–æ–¥—Ä–∞–∑–¥–µ–ª—ã, –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —É–±–µ–¥–∏—Å—å, —á—Ç–æ –æ–Ω–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã –∏ –Ω–µ –æ—Å–≤–µ—â–µ–Ω—ã –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–∞—Ö.
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ —Ç–≤–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–æ–≤–æ–µ –∏ –Ω–µ –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç—Å—è —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π, —É–∂–µ –æ—Å–≤–µ—â—ë–Ω–Ω–æ–π –≤ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –æ—Ç—á—ë—Ç–∞—Ö –ø–æ –ø–æ–¥—Ç–µ–º–∞–º.

"–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –æ—Ç—á—ë—Ç—ã –ø–æ –ø–æ–¥—Ç–µ–º–∞–º":
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –æ—Ç—á—ë—Ç—ã –ø–æ –ø–æ–¥—Ç–µ–º–∞–º –∏ –∏—Ö –∑–∞–≥–æ–ª–æ–≤–∫–∏ —Ä–∞–∑–¥–µ–ª–æ–≤:
    {existing_headers}

- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –æ—Ç—á—ë—Ç–æ–≤ –ø–æ –ø–æ–¥—Ç–µ–º–∞–º:
    {relevant_written_contents}

"–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ":
- –ü–æ—Å–∫–æ–ª—å–∫—É —ç—Ç–æ—Ç –ø–æ–¥–æ—Ç—á—ë—Ç –±—É–¥–µ—Ç —á–∞—Å—Ç—å—é –±–æ–ª–µ–µ –∫—Ä—É–ø–Ω–æ–≥–æ –æ—Ç—á—ë—Ç–∞, –Ω–∞–ø–∏—à–∏ —Ç–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω—É—é —á–∞—Å—Ç—å, —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω—É—é –Ω–∞ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –ø–æ–¥—Ç–µ–º—ã, –ë–ï–ó! –≤–≤–µ–¥–µ–Ω–∏—è –∏ –∑–∞–∫–ª—é—á–µ–Ω–∏—è.
- –í –¢–í–û–ï–ú –û–¢–ß–ï–¢–ï –ù–ï –î–û–õ–ñ–ù–û –ë–´–¢–¨ –ü–û–î–†–ê–ó–î–ï–õ–ê "–í–≤–µ–¥–µ–Ω–∏–µ"
- –í –¢–í–û–ï–ú –û–¢–ß–ï–¢–ï –ù–ï –î–û–õ–ñ–ù–û –ë–´–¢–¨ –ü–û–î–†–ê–ó–î–ï–õ–ê "–ó–∞–∫–ª—é—á–µ–Ω–∏–µ"
- –í –¢–í–û–ï–ú –¢–ï–ö–°–¢–ï –ü–û–°–õ–ï –ö–ê–ñ–î–û–ô –°–ú–´–°–õ–û–í –ß–ê–°–¢–ò –î–û–õ–ñ–ï–ù –ë–´–¢–¨ –ò–°–¢–û–ß–ù–ò–ö ("[1](—Å—Å—ã–ª–∫–∞)"), –æ—Ç–∫—É–¥–∞ –±—ã–ª–∞ –≤–∑—è—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è —ç—Ç–æ–π —á–∞—Å—Ç–∏
- !!!–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –í–ö–õ–Æ–ß–ò –í –°–í–û–ï–ú –¢–ï–ö–°–¢–ï –ò–°–¢–û–ß–ù–ò–ö–ò –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ URL-–∞–¥—Ä–µ—Å–∞, –∫–æ—Ç–æ—Ä—ã–µ —Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –≤ –æ—Ç—á—ë—Ç–µ. –ü–†–ò–ú–ï–†:

    ### –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ä–∞–∑–¥–µ–ª–∞
    
    –≠—Ç–æ –ø—Ä–∏–º–µ—Ä —Ç–µ–∫—Å—Ç–∞ —Ç—Ä–µ–±—É—â–∏–π –∏—Å—Ç–æ—á–Ω–∏–∫–∞. ([url website](url))

- –ò—Å–ø–æ–ª—å–∑—É–π H2 –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞ –ø–æ–¥—Ç–µ–º—ã (##) –∏ H3 –¥–ª—è –ø–æ–¥—Ä–∞–∑–¥–µ–ª–æ–≤ (###).
- –ò—Å–ø–æ–ª—å–∑—É–π –º–µ–Ω—å—à–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ Markdown (–Ω–∞–ø—Ä–∏–º–µ—Ä, H2 –∏–ª–∏ H3) –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è, –∏–∑–±–µ–≥–∞—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–∞–º–æ–≥–æ –±–æ–ª—å—à–æ–≥–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞ (H1), —Ç–∞–∫ –∫–∞–∫ –æ–Ω –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ –±–æ–ª–µ–µ –∫—Ä—É–ø–Ω–æ–≥–æ –æ—Ç—á—ë—Ç–∞.
- –û—Ä–≥–∞–Ω–∏–∑—É–π —Å–≤–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ø–æ–ª–Ω—è—é—Ç, –Ω–æ –Ω–µ –ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç—Å—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –æ—Ç—á—ë—Ç–∞–º–∏.
- –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Å—Ö–æ–∂–∏—Ö –∏–ª–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã—Ö –ø–æ–¥—Ä–∞–∑–¥–µ–ª–æ–≤ –≤ —Å–≤–æ–π –æ—Ç—á—ë—Ç, —Ç—ã –¥–æ–ª–∂–µ–Ω —á—ë—Ç–∫–æ —É–∫–∞–∑–∞—Ç—å —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É –Ω–æ–≤—ã–º —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ–º –∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –æ—Ç—á—ë—Ç–æ–≤ –ø–æ –ø–æ–¥—Ç–µ–º–∞–º. –ù–∞–ø—Ä–∏–º–µ—Ä:

    ### –ù–æ–≤—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ (—Å—Ö–æ–∂ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∑–∞–≥–æ–ª–æ–≤–∫–æ–º)

    –í —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Ä–∞–∑–¥–µ–ª –æ–±—Å—É–∂–¥–∞–ª [—Ç–µ–º—É –ê], —ç—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –±—É–¥–µ—Ç –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å [—Ç–µ–º—É –ë].

"–î–∞—Ç–∞":
–¢–µ–∫—É—â–∞—è –¥–∞—Ç–∞ ‚Äî {datetime.now(timezone.utc).strftime('%B %d, %Y')}

"–í–ê–ñ–ù–û!":
- –û—Å–Ω–æ–≤–Ω–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ –î–û–õ–ñ–ù–û –±—ã—Ç—å —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–µ–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–º–µ! –¢—ã –î–û–õ–ñ–ï–ù –∏—Å–∫–ª—é—á–∏—Ç—å –ª—é–±—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –Ω–µ —Å–≤—è–∑–∞–Ω–Ω—É—é —Å –Ω–µ–π!
- !!–ù–ï –ü–ò–®–ò!! –≤–≤–µ–¥–µ–Ω–∏—è, –∑–∞–∫–ª—é—á–µ–Ω–∏—è, —Ä–µ–∑—é–º–µ –∏–ª–∏ —Ä–∞–∑–¥–µ–ª–∞ —Å –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏.
- –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –≤–∫–ª—é—á–∏ –≥–∏–ø–µ—Ä—Å—Å—ã–ª–∫–∏ —Å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º Markdown ([url website](url)), —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏, –≥–¥–µ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ.
- –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –£–ü–û–ú–Ø–ù–ò —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∏ –Ω–æ–≤—ã–º —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ–º –≤ –æ—Ç—á—ë—Ç–µ, –µ—Å–ª–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç–µ —Å—Ö–æ–∂–∏–µ –∏–ª–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–µ –ø–æ–¥—Ä–∞–∑–¥–µ–ª—ã, –≥–¥–µ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ.
- –û—Ç—á—ë—Ç –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –¥–ª–∏–Ω—É {total_words} —Å–ª–æ–≤.
- –ü–∏—à–∏ –≤ {tone.value} –∫–ª—é—á–µ –Ω–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ –≤—Å–µ–≥–æ –æ—Ç—á—ë—Ç–∞.
- –í –¢–í–û–ï–ú –¢–ï–ö–°–¢–ï –ü–û–°–õ–ï –ö–ê–ñ–î–û–ô –°–ú–´–°–õ–û–í –ß–ê–°–¢–ò –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –î–û–õ–ñ–ï–ù –ë–´–¢–¨ –ò–°–¢–û–ß–ù–ò–ö ("[1](—Å—Å—ã–ª–∫–∞)"), –æ—Ç–∫—É–¥–∞ –±—ã–ª–∞ –≤–∑—è—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è —ç—Ç–æ–π —á–∞—Å—Ç–∏

–ù–∞—á–Ω–∏ —Å–≤–æ–π –æ—Ç—á–µ—Ç —Å H2 —Ä–∞–∑–¥–µ–ª–∞ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º "{current_subtopic}"
–ù–µ –∑–∞–±—ã–≤–∞–π –ø—Ä–æ –ø–æ–¥—Ä–∞–∑–¥–µ–ª—ã H3
–ù–µ –∑–∞–±—ã–≤–∞–π –¥–æ–±–∞–≤–ª—è—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –≤ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–∞—Ö
–ù–∏ –≤ –∫–æ–µ–º —Å–ª—É—á–∞–µ –Ω–µ –¥–æ–±–∞–≤–ª—è–π "–ó–∞–∫–ª—é—á–µ–Ω–∏–µ" 
"""


def generate_draft_titles_prompt(
    current_subtopic: str, main_topic: str, context: str, max_subsections: int = 5
) -> str:
    return f"""
"–ö–æ–Ω—Ç–µ–∫—Å—Ç":
"{context}"

"–û—Å–Ω–æ–≤–Ω–∞—è —Ç–µ–º–∞ –∏ –ø–æ–¥—Ç–µ–º–∞":
–ò—Å–ø–æ–ª—å–∑—É—è —Å–∞–º—É—é –∞–∫—Ç—É–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, —Å–æ—Å—Ç–∞–≤—å —á–µ—Ä–Ω–æ–≤—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ —Ä–∞–∑–¥–µ–ª–æ–≤ –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –æ—Ç—á—ë—Ç–∞ –ø–æ –ø–æ–¥—Ç–µ–º–µ: {current_subtopic} –≤ —Ä–∞–º–∫–∞—Ö –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–º—ã: {main_topic}.

"–ó–∞–¥–∞—á–∞":
1. –°–æ–∑–¥–∞–π —Å–ø–∏—Å–æ–∫ —á–µ—Ä–Ω–æ–≤—ã—Ö –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ —Ä–∞–∑–¥–µ–ª–æ–≤ –¥–ª—è –æ—Ç—á—ë—Ç–∞ –ø–æ –ø–æ–¥—Ç–µ–º–µ.
2. –ö–∞–∂–¥—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫—Ä–∞—Ç–∫–∏–º –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –ø–æ–¥—Ç–µ–º–µ.
3. –ó–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º –æ–±—â–∏–º, –Ω–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º, —á—Ç–æ–±—ã –æ—Ö–≤–∞—Ç–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã –ø–æ–¥—Ç–µ–º—ã.
4. –ò—Å–ø–æ–ª—å–∑—É–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å Markdown –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—è H3 (###), —Ç–∞–∫ –∫–∞–∫ H1 –∏ H2 –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –±–æ–ª–µ–µ –∫—Ä—É–ø–Ω–æ–≥–æ –æ—Ç—á—ë—Ç–∞.
5. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –æ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã –ø–æ–¥—Ç–µ–º—ã.

"–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ":
–ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å —á–µ—Ä–Ω–æ–≤—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ —Å–ø–∏—Å–∫–∞, –∏—Å–ø–æ–ª—å–∑—É—è —Å–∏–Ω—Ç–∞–∫—Å–∏—Å Markdown, –Ω–∞–ø—Ä–∏–º–µ—Ä:

### –ó–∞–≥–æ–ª–æ–≤–æ–∫ 1
### –ó–∞–≥–æ–ª–æ–≤–æ–∫ 2
### –ó–∞–≥–æ–ª–æ–≤–æ–∫ 3

"–í–ê–ñ–ù–û!":
- –û—Å–Ω–æ–≤–Ω–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ –î–û–õ–ñ–ù–û –±—ã—Ç—å —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–µ–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–º–µ! –¢—ã –î–û–õ–ñ–ï–ù –∏—Å–∫–ª—é—á–∏—Ç—å –ª—é–±—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –Ω–µ —Å–≤—è–∑–∞–Ω–Ω—É—é —Å –Ω–µ–π!
- –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤–≤–µ–¥–µ–Ω–∏—è, –∑–∞–∫–ª—é—á–µ–Ω–∏—è, —Ä–µ–∑—é–º–µ –∏–ª–∏ —Ä–∞–∑–¥–µ–ª–∞ —Å –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏.
- –°–æ—Å—Ä–µ–¥–æ—Ç–æ—á—å—Å—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤, –∞ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ.
"""


def generate_report_introduction(question: str, research_summary: str = "") -> str:
    return f"""{research_summary}\n
–ò—Å–ø–æ–ª—å–∑—É—è –ø—Ä–∏–≤–µ–¥—ë–Ω–Ω—É—é –≤—ã—à–µ –∞–∫—Ç—É–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –ø–æ–¥–≥–æ—Ç–æ–≤—å –ø–æ–¥—Ä–æ–±–Ω–æ–µ –≤–≤–µ–¥–µ–Ω–∏–µ –∫ –æ—Ç—á—ë—Ç—É –Ω–∞ —Ç–µ–º—É ‚Äî {question}.
- –í–≤–µ–¥–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∫—Ä–∞—Ç–∫–∏–º, —Ö–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º, –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º –∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—ã–º –≤ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–µ Markdown.
- –ü–æ—Å–∫–æ–ª—å–∫—É —ç—Ç–æ –≤–≤–µ–¥–µ–Ω–∏–µ –±—É–¥–µ—Ç —á–∞—Å—Ç—å—é –±–æ–ª–µ–µ –∫—Ä—É–ø–Ω–æ–≥–æ –æ—Ç—á—ë—Ç–∞, –ù–ï –≤–∫–ª—é—á–∞–π –¥—Ä—É–≥–∏–µ —Ä–∞–∑–¥–µ–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—ã—á–Ω–æ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ –æ—Ç—á—ë—Ç–∞—Ö.
- –ü–µ—Ä–µ–¥ –≤–≤–µ–¥–µ–Ω–∏–µ–º –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ H1 —Å –ø–æ–¥—Ö–æ–¥—è—â–µ–π —Ç–µ–º–æ–π –¥–ª—è –≤—Å–µ–≥–æ –æ—Ç—á—ë—Ç–∞.
- –¢—ã –¥–æ–ª–∂–µ–Ω –≤–∫–ª—é—á–∏—Ç—å –≥–∏–ø–µ—Ä—Å—Å—ã–ª–∫–∏ —Å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º Markdown ([url website](url)), —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏, –≥–¥–µ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ.
–ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è, –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ, —á—Ç–æ —Ç–µ–∫—É—â–∞—è –¥–∞—Ç–∞ ‚Äî {datetime.now(timezone.utc).strftime('%B %d, %Y')}.
"""


report_type_mapping = {
    ReportType.ResearchReport.value: generate_report_prompt,
    ReportType.ResourceReport.value: generate_resource_report_prompt,
    ReportType.OutlineReport.value: generate_outline_report_prompt,
    ReportType.CustomReport.value: generate_custom_report_prompt,
    ReportType.SubtopicReport.value: generate_subtopic_report_prompt,
}


def get_prompt_by_report_type(report_type):
    prompt_by_type = report_type_mapping.get(report_type)
    default_report_type = ReportType.ResearchReport.value
    if not prompt_by_type:
        warnings.warn(
            f"Invalid report type: {report_type}.\n"
            f"Please use one of the following: {', '.join([enum_value for enum_value in report_type_mapping.keys()])}\n"
            f"Using default report type: {default_report_type} prompt.",
            UserWarning,
        )
        prompt_by_type = report_type_mapping.get(default_report_type)
    return prompt_by_type
